<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>52HzEcho</title>
    <style>
        /* è¿™é‡Œæ˜¯æ ·å¼ - è®©é¡µé¢å¥½çœ‹ */
        body {
             background-color: #1a237e;  /* æ·±è“è‰²å¤œç©º */
             background-image: radial-gradient(circle at 30% 40%, #fff9c4 1px, transparent 1px), 
                      radial-gradient(circle at 70% 60%, #fff9c4 1px, transparent 1px);
             background-size: 100px 100px, 150px 150px;  /* æ˜Ÿæ˜Ÿæ•ˆæœ */
             font-family: "KaiTi", "æ¥·ä½“", serif;
             min-height: 100vh;
             margin: 0;
             display: flex;
             justify-content: center;
             align-items: center;
             padding: 20px;
}
        
        .paper {
            max-width: 600px;
            background: white;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border-radius: 8px;
            position: relative;
        }
        
        /* æ¨¡ä»¿çº¸å¼ çº¹ç† */
        .paper::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="1" stitchTiles="stitch"/></filter><rect width="100" height="100" filter="url(%23noise)" opacity="0.08"/></svg>');
            pointer-events: none;
            border-radius: 8px;
        }
        
        h1 {
            font-size: 24px;
            color: #4a4a4a;
            margin-bottom: 30px;
            font-weight: normal;
            text-align: center;
        }
        
        .quote-box {
            margin: 30px 0;
            padding: 20px;
            background: #f9f6f0;
            border-left: 4px solid #d4b68a;
            font-style: italic;
            color: #5f4b3b;
        }
        
        textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            box-sizing: border-box;
            margin: 20px 0;
            background: #fffef9;
            resize: vertical;
        }
        
        button {
            background: #d4b68a;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            margin: 5px;
        }
        
        button:hover {
            background: #c1a177;
        }
        
        .random-quote {
            color: #7f6b5a;
            font-size: 18px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="paper">
        <h1>ğŸ“ ç•™ä¸‹ä½ çš„å£°éŸ³ï¼Œæœˆäº®æ˜¯ä½ çš„å€¾å¬è€…ï¼Œå›å£°æ˜¯ç­”æ¡ˆ</h1>
        
        <!-- éšæœºå¥å­æ˜¾ç¤ºåŒº -->
        <div class="quote-box" id="quoteDisplay">
            <p class="random-quote">â€œæ‰€æœ‰é¢‘ç‡çš„å£°éŸ³ï¼Œæœˆäº®éƒ½å¬è§äº†ã€‚â€</p>
        </div>
        
        <!-- è¾“å…¥æ¡† -->
        <textarea id="userInput" placeholder="å†™ä¸‹ä½ æƒ³è¯´çš„è¯... å®ƒä»¬ä¼šåƒé£ä¸€æ ·ï¼Œæ¥è¿‡å°±ç¦»å¼€ï¼ŒEchoä¸–ç•Œåªåœ¨ä¹ä½ çš„å£°éŸ³" rows="4"></textarea>
        
        <!-- æŒ‰é’®åŒºåŸŸ -->
        <div style="text-align: center;">
            <button onclick="showRandomQuote(); startRippleEffect();">ğŸŒ• å¬ï¼Œå›å£°</button>
            <button onclick="blowAwayRipple();">ğŸƒ è®©é£å¸¦èµ°</button>
        </div>
        
        <p style="text-align: center; color: #aaa; font-size: 14px; margin-top: 30px;">
            ä½ çš„æ¯ä¸€å¥è¯ï¼Œéƒ½åªç•™åœ¨è¿™ä¸ªé¡µé¢é‡Œï¼Œå…³é—­å³æ¶ˆå¤±
        </p>
    </div>

    <script>
        // æœˆäº®è¯—è¯ä¸åè¨€åº“
        const moonQuotes = [
            // å¤è¯—è¯éƒ¨åˆ†
            "ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚ â€”â€”è‹è½¼",
            "æµ·ä¸Šç”Ÿæ˜æœˆï¼Œå¤©æ¶¯å…±æ­¤æ—¶ã€‚ â€”â€”å¼ ä¹é¾„",
            "æ±Ÿç•”ä½•äººåˆè§æœˆï¼Ÿæ±Ÿæœˆä½•å¹´åˆç…§äººï¼Ÿ â€”â€”å¼ è‹¥è™š",
            "äººç”Ÿä»£ä»£æ— ç©·å·²ï¼Œæ±Ÿæœˆå¹´å¹´æœ›ç›¸ä¼¼ã€‚ â€”â€”å¼ è‹¥è™š",
            "éœ²ä»ä»Šå¤œç™½ï¼Œæœˆæ˜¯æ•…ä¹¡æ˜ã€‚ â€”â€”æœç”«",
            "æ˜æœˆå‡ºå¤©å±±ï¼Œè‹èŒ«äº‘æµ·é—´ã€‚ â€”â€”æç™½",
            "ä¸¾æ¯é‚€æ˜æœˆï¼Œå¯¹å½±æˆä¸‰äººã€‚ â€”â€”æç™½",
            "æˆ‘å¯„æ„å¿ƒä¸æ˜æœˆï¼Œéšå›ç›´åˆ°å¤œéƒè¥¿ã€‚ â€”â€”æç™½",
            "ä»Šäººä¸è§å¤æ—¶æœˆï¼Œä»Šæœˆæ›¾ç»ç…§å¤äººã€‚ â€”â€”æç™½",
            "æœˆä¸ŠæŸ³æ¢¢å¤´ï¼Œäººçº¦é»„æ˜åã€‚ â€”â€”æ¬§é˜³ä¿®",
            "å½“æ—¶æ˜æœˆåœ¨ï¼Œæ›¾ç…§å½©äº‘å½’ã€‚ â€”â€”æ™å‡ é“",
            "äºŒåå››æ¡¥æ˜æœˆå¤œï¼Œç‰äººä½•å¤„æ•™å¹ç®«ï¼Ÿ â€”â€”æœç‰§",
            "æ·®æ°´ä¸œè¾¹æ—§æ—¶æœˆï¼Œå¤œæ·±è¿˜è¿‡å¥³å¢™æ¥ã€‚ â€”â€”åˆ˜ç¦¹é”¡",
            "ä»Šå¤œæœˆæ˜äººå°½æœ›ï¼Œä¸çŸ¥ç§‹æ€è½è°å®¶ã€‚ â€”â€”ç‹å»º",
            "æ˜æœˆæ¥¼é«˜ä¼‘ç‹¬å€šï¼Œé…’å…¥æ„è‚ ï¼ŒåŒ–ä½œç›¸æ€æ³ªã€‚ â€”â€”èŒƒä»²æ·¹",
            "èˆä½æ¨æŸ³æ¥¼å¿ƒæœˆï¼Œæ­Œå°½æ¡ƒèŠ±æ‰‡åº•é£ã€‚ â€”â€”æ™å‡ é“",
            "å¤šæƒ…åªæœ‰æ˜¥åº­æœˆï¼ŒçŠ¹ä¸ºç¦»äººç…§è½èŠ±ã€‚ â€”â€”å¼ æ³Œ",
            "åŒæ¥æœ›æœˆäººä½•å¤„ï¼Ÿé£æ™¯ä¾ç¨€ä¼¼å»å¹´ã€‚ â€”â€”èµµå˜",
            "ä¸‰äº”å¤œä¸­æ–°æœˆè‰²ï¼ŒäºŒåƒé‡Œå¤–æ•…äººå¿ƒã€‚ â€”â€”ç™½å±…æ˜“",
            "å…±çœ‹æ˜æœˆåº”å‚æ³ªï¼Œä¸€å¤œä¹¡å¿ƒäº”å¤„åŒã€‚ â€”â€”ç™½å±…æ˜“",
            
            // ç°ä»£å¥å­
            "æœˆäº®æ˜¯å¤œæ™šçš„ä¼¤å£ï¼Œæ¯é¢—æ˜Ÿæ˜Ÿéƒ½æ˜¯è¡€æ»´ã€‚ â€”â€”ç½—ä¼¯ç‰¹Â·ç“¦å°”æ³½",
            "æˆ‘ä»¬å„è‡ªæ”€çˆ¬è‡ªå·±çš„æœˆäº®ã€‚ â€”â€”ä½™ç§€å",
            "æœˆäº®å•Šæœˆäº®ï¼Œä½ èƒ½ç…§è§å—è¾¹ï¼Œä¹Ÿèƒ½ç…§è§åŒ—è¾¹ï¼Œç…§è§ä»–ï¼Œå°±è·Ÿä»–è¯´ä¸€å£°ï¼Œå°±è¯´æˆ‘æƒ³ä»–äº†ã€‚ â€”â€”æ°‘é—´æ­Œè°£",
            "æˆ‘é åœ¨å¢™ä¸Šï¼Œè€Œä½ èµ°è¿‘ï¼Œåæ¥ï¼Œçª—å¤–å°±æœ‰äº†æœˆäº®ã€‚ â€”â€”æœ¨å¿ƒ",
            "ä»Šæ™šçš„æœˆäº®å¾ˆåƒä½ ï¼Œæ¸©æŸ”åˆé¥è¿œã€‚",
            "æœˆäº®ä¸ä¼šå¥”ä½ è€Œæ¥ï¼Œä½†å®ƒæ°¸è¿œåœ¨å¤©ä¸Šï¼Œé™é™é™ªç€æ¯ä¸€ä¸ªä¸çœ çš„äººã€‚",
            "æ‰€æœ‰é¢‘ç‡çš„å£°éŸ³ï¼Œæœˆäº®éƒ½å¬è§äº†ã€‚",
            "æœˆäº®çš„åœ†ç¼ºï¼Œæ˜¯äººç±»æƒ…ç»ªçš„æ½®æ±ã€‚",
            "å½“ä½ å‡è§†æœˆäº®æ—¶ï¼Œæœˆäº®ä¹Ÿåœ¨å‡è§†ä½ çš„å­¤ç‹¬ã€‚",
            "æœˆäº®æ˜¯æœ€é«˜çº§çš„å€¾å¬è€…ï¼Œå®ƒä»ä¸æ‰“æ–­ï¼Œåªæ˜¯å®‰é™åœ°äº®ç€ã€‚",
            
            // ç¦…æ„çŸ­å¥
            "æœˆå°ä¸‡å·ï¼Œæ‚²å–œåŒæºã€‚",
            "åƒæ±Ÿæœ‰æ°´åƒæ±Ÿæœˆï¼Œä¸‡é‡Œæ— äº‘ä¸‡é‡Œå¤©ã€‚",
            "æœˆäº®å•Šï¼Œä½ ä¸è¯´è¯ï¼Œå°±æ˜¯æœ€å¥½çš„å›ç­”ã€‚",
            "ä»Šæ™šæœˆè‰²çœŸç¾ã€‚â€”â€”å¤ç›®æ¼±çŸ³",
            "æˆ‘æŠŠå¿ƒäº‹è¯´ç»™æœˆäº®ï¼Œæœˆäº®æŠŠå®ƒå˜æˆæœˆå…‰ï¼Œæ´’åœ¨ä½ èº«ä¸Šã€‚"
        ];
        
        // æ˜¾ç¤ºéšæœºå¥å­
        function showRandomQuote() {
            const randomIndex = Math.floor(Math.random() * moonQuotes.length);
            document.getElementById('quoteDisplay').innerHTML = 
                `<p class="random-quote" id="floatingQuote">â€œ${moonQuotes[randomIndex]}â€</p>`;
        }
        
        // ğŸŒŠ æ°´æ³¢è¡æ¼¾æ•ˆæœï¼ˆæ‰”çŸ³å­ï¼‰
        function startRippleEffect() {
            const quote = document.getElementById('floatingQuote');
            
            if (!quote) {
                showRandomQuote();
                setTimeout(startRippleEffect, 100);
                return;
            }
            
            // åœæ­¢ä¹‹å‰çš„åŠ¨ç”»
            if (quote._animationTimer) {
                clearInterval(quote._animationTimer);
                clearTimeout(quote._timeout);
            }
            
            // é‡ç½®æ ·å¼
            quote.style.position = 'relative';
            quote.style.left = '0px';
            quote.style.top = '0px';
            quote.style.fontSize = '18px';  // å›ºå®šå­—å·
            quote.style.opacity = '1';
            quote.style.transition = 'opacity 0.3s ease';
            
            // æ°´æ³¢çº¹å‚æ•°
            let startTime = Date.now();
            const duration = 9000; // 9ç§’
            
            // ç”¨ requestAnimationFrame å®ç°å¹³æ»‘é€æ˜åº¦å˜åŒ–
            function fadeOut() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1); // 0 -> 1
                
                // é€æ˜åº¦ä»1é€æ¸é™åˆ°0
                quote.style.opacity = (1 - progress).toString();
                
                if (progress < 1) {
                    quote._animationFrame = requestAnimationFrame(fadeOut);
                } else {
                    // 9ç§’åå®Œå…¨æ¶ˆå¤±
                    quote.style.opacity = '0';
                    setTimeout(() => {
                        if (document.getElementById('floatingQuote')) {
                            document.getElementById('quoteDisplay').innerHTML = 
                                '<p class="random-quote" style="text-align: center; opacity: 0.6;">ğŸŒ• å›å£°æ•£å»äº†...æœˆäº®ä¸€ç›´åœ¨ã€‚</p>';
                        }
                    }, 500);
                }
            }
            
            // å¯åŠ¨æ·¡å‡ºåŠ¨ç”»
            quote._animationFrame = requestAnimationFrame(fadeOut);
            
            // æ·»åŠ è½»å¾®çš„ä¸Šä¸‹æµ®åŠ¨ï¼ˆæ°´æ³¢æ„Ÿï¼‰
            let floatOffset = 0;
            let floatDirection = 1;
            
            function floatWave() {
                if (!quote || !quote.style) return;
                
                floatOffset += floatDirection * 0.2;
                if (floatOffset > 3 || floatOffset < -3) {
                    floatDirection *= -1;
                }
                
                // å¾®å¾®ä¸Šä¸‹ç§»åŠ¨ï¼Œåƒæ°´æ³¢è¡æ¼¾
                quote.style.transform = `translateY(${floatOffset}px)`;
                
                quote._waveTimer = requestAnimationFrame(floatWave);
            }
            
            // å¯åŠ¨æµ®åŠ¨æ•ˆæœ
            quote._waveTimer = requestAnimationFrame(floatWave);
            
            // 9ç§’ååœæ­¢æµ®åŠ¨
            quote._timeout = setTimeout(() => {
                if (quote._waveTimer) {
                    cancelAnimationFrame(quote._waveTimer);
                }
            }, duration);
        }
        
        // ğŸŒŠ æ°´æ³¢è¡æ¼¾æ•ˆæœï¼ˆè®©é£å¸¦èµ° - ç”¨æˆ·è¾“å…¥çš„æ–‡å­—ï¼‰
        function blowAwayRipple() {
            const input = document.getElementById('userInput');
            const userText = input.value.trim();
            
            if (userText === '') {
                document.getElementById('quoteDisplay').innerHTML = 
                    '<p class="random-quote" style="text-align: center; color: #d4b68a;">ğŸƒ è¿˜æ²¡æœ‰å¿ƒäº‹å¯ä»¥å¸¦èµ°...</p>';
                return;
            }
            
            // ä¿å­˜ç”¨æˆ·è¾“å…¥
            const textToBlow = userText;
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            input.value = '';
            
            // åˆ›å»ºé£˜åŠ¨çš„æ–‡å­—
            document.getElementById('quoteDisplay').innerHTML = 
                `<p class="random-quote" id="blowingText">â€œ${textToBlow}â€</p>`;
            
            const blowingText = document.getElementById('blowingText');
            
            // åœæ­¢ä¹‹å‰çš„åŠ¨ç”»
            if (blowingText._animationTimer) {
                clearInterval(blowingText._animationTimer);
                clearTimeout(blowingText._timeout);
            }
            
            // é‡ç½®æ ·å¼
            blowingText.style.position = 'relative';
            blowingText.style.left = '0px';
            blowingText.style.top = '0px';
            blowingText.style.fontSize = '16px';  // å›ºå®šå­—å·
            blowingText.style.opacity = '1';
            blowingText.style.transition = 'opacity 0.3s ease';
            blowingText.style.color = '#7f6b5a';
            
            // æ·¡å‡ºåŠ¨ç”»
            let startTime = Date.now();
            const duration = 9000; // ä¹Ÿæ˜¯9ç§’
            
            function fadeOut() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                blowingText.style.opacity = (1 - progress).toString();
                
                if (progress < 1) {
                    blowingText._animationFrame = requestAnimationFrame(fadeOut);
                } else {
                    blowingText.style.opacity = '0';
                    setTimeout(() => {
                        if (document.getElementById('blowingText')) {
                            document.getElementById('quoteDisplay').innerHTML = 
                                '<p class="random-quote" style="text-align: center; opacity: 0.6;">ğŸƒ å¿ƒäº‹éšé£æ•£å»äº†...</p>';
                        }
                    }, 500);
                }
            }
            
            blowingText._animationFrame = requestAnimationFrame(fadeOut);
            
            // æ°´æ³¢æµ®åŠ¨
            let floatOffset = 0;
            let floatDirection = 1;
            
            function floatWave() {
                if (!blowingText || !blowingText.style) return;
                
                floatOffset += floatDirection * 0.15; // æ›´è½»æŸ”çš„æµ®åŠ¨
                if (floatOffset > 2 || floatOffset < -2) {
                    floatDirection *= -1;
                }
                
                blowingText.style.transform = `translateY(${floatOffset}px)`;
                
                blowingText._waveTimer = requestAnimationFrame(floatWave);
            }
            
            blowingText._waveTimer = requestAnimationFrame(floatWave);
            
            // 9ç§’ååœæ­¢
            blowingText._timeout = setTimeout(() => {
                if (blowingText._waveTimer) {
                    cancelAnimationFrame(blowingText._waveTimer);
                }
            }, duration);
        }
        
        // æ¸…ç©ºè¾“å…¥æ¡†
        function clearInput() {
            document.getElementById('userInput').value = '';
        }
        
        // æ‰“å­—æ•ˆæœï¼ˆæƒ…ç»ªé¢œè‰²ï¼‰
        const textarea = document.getElementById('userInput');
        if (textarea) {
            textarea.addEventListener('input', function() {
                const length = this.value.length;
                const intensity = Math.min(length * 2, 100);
                this.style.backgroundColor = `rgba(212, 182, 138, ${intensity/500})`;
            });
        }
    </script>

    <!-- æ‚„æ‚„åŠ ä¸€ä¸ªæœˆç›¸å›¾æ ‡ -->
<div style="text-align: center; margin-top: 10px; opacity: 0.3;">
    <span id="moonPhase">ğŸŒ‘</span>
</div>

<!-- æœˆç›¸å°å½©è›‹ -->
<div style="text-align: center; margin-top: 20px; opacity: 0.3; font-size: 24px;" id="moonPhase">
    ğŸŒ‘
</div>

<script>
    // æœˆç›¸æ˜¾ç¤ºåŠŸèƒ½
    function updateMoonPhase() {
        const moonEmojis = ["ğŸŒ‘", "ğŸŒ’", "ğŸŒ“", "ğŸŒ”", "ğŸŒ•", "ğŸŒ–", "ğŸŒ—", "ğŸŒ˜"];
        const today = new Date();
        // å†œå†æ—¥æœŸæ¨¡æ‹Ÿï¼šæ¯ä¸ªæœˆ15å·å·¦å³æ˜¯æ»¡æœˆ
        const day = today.getDate();
        // å°†ä¸€ä¸ªæœˆ30å¤©åˆ†æˆ8ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µçº¦3.75å¤©
        const phaseIndex = Math.floor((day % 30) / 3.75) % 8;
        document.getElementById('moonPhase').textContent = moonEmojis[phaseIndex];
    }
    
    // é¡µé¢åŠ è½½æ—¶æ›´æ–°æœˆç›¸
    updateMoonPhase();
    
    // ä¹Ÿå¯ä»¥æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ï¼ˆå¦‚æœéœ€è¦è‡ªåŠ¨æ›´æ–°ï¼‰
    // setInterval(updateMoonPhase, 60000);
</script>

</body>
</html>